<script setup lang="ts">
import { ref } from 'vue'
import mySection from './components/mySection.vue'
import testCom from './components/testComponent.vue'

const updatedContent = ref(`å½“å‰ç‰ˆæœ¬ï¼šv0.2.3ã€‚
æ›´æ–°è®¡åˆ’ï¼š
    1.æ›´æ–°è£…å¤‡ã€æŠ€èƒ½æ•°æ®ï¼›
    2.ä¼˜åŒ–personaå±•ç¤ºuiã€‚
æ›´æ–°æ—¥å¿—:
  v0.2.3 2025.2.19
    1. æ›´æ–°äº†coopä¸­çš„å¯¹è¯ã€ç¤¼ç‰©é€‰é¡¹ï¼Œåˆå¹¶åè‰˜è·³åˆ°COOPå¯¹è¯ä¸­ï¼›
    2. ä¿®å¤äº†éƒ¨åˆ†æ•°æ®é”™è¯¯ï¼›
    3. ä¿®å¤äº†coopç‚¹å‡»å¤´åƒå¼‚å¸¸BUGã€‚
  v0.2.2 2025.2.12
    1. æ›´æ–°äº†personaå›¾é‰´éƒ¨åˆ†æ•°æ®ï¼ˆç»§æ‰¿ã€å‡ºç°åœ°ç‚¹ã€è£…å¤‡ç±»å‹ã€ç¿»è¯‘ä¼˜åŒ–ï¼‰ï¼›
    2. æ›´æ–°äº†åè‰˜è·³å’Œè¡—åŒºæŒ‡å—ã€‚
  v0.2.1 2025.2.8 
    å°ç¨‹åºå‘å¸ƒï¼ŒåŒ…å«æ”»ç•¥æŸ¥è¯¢ã€personaå›¾é‰´æŸ¥è¯¢ç­‰åŠŸèƒ½ã€‚`)
const noProfitContent = ref(`é¦–å…ˆï¼Œåœ¨æ­¤å£°æ˜ï¼Œæœ¬å°ç¨‹åºæ°¸è¿œä¸ä¼šæœ‰ä»»ä½•ä»»ä½•å•†ä¸šç›ˆåˆ©ï¼Œå³ä¸ä¼šæœ‰ä»»ä½•å¹¿å‘Šï¼Œä¹Ÿä¸ä¼šæœ‰ä»»ä½•æ”¶è´¹å†…å®¹ã€‚
æœ¬å°ç¨‹åºæ‰€æœ‰å†…å®¹éƒ½æ¥è‡ªäºç½‘ç»œï¼Œæˆ‘æ·±çŸ¥è‡ªå·±åªæ˜¯ä¸€ä¸ªå°å°çš„æ¬è¿å·¥ï¼Œåªæ˜¯åœ¨å°½è‡ªå·±å¾®è–„ä¹‹åŠ›ï¼Œå°†ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯æ•´ç†å‡ºæ¥ï¼Œæ–¹ä¾¿å¤§å®¶æŸ¥é˜…ã€‚
å¦‚æœæœ‰å‘ç°ç–å¿½ä¸è¶³çš„åœ°æ–¹æˆ–è€…æœ‰åŠŸèƒ½ç•Œé¢å»ºè®®ï¼Œæ¬¢è¿ç•™è¨€ï¼Œæ„Ÿè°¢æ”¯æŒï¼Thanksâ™ª(ï½¥Ï‰ï½¥)ï¾‰`)
// å°½ç®¡å¦‚æ­¤ï¼Œå°ç¨‹åºçš„å¹´å®¡ä¸æœåŠ¡å™¨ç»´æŠ¤ç­‰è´¹ç”¨è¿˜æ˜¯éœ€è¦ä¸€å®šç¨‹åº¦çš„å¼€é”€ï¼ˆDBQæˆ‘æ˜¯è®¨å£å­TUTï¼‰ï¼Œå³ä½¿ä¸€å°åŒ…è¾£æ¡æèµ çš„é¼“åŠ±ï¼Œä¹Ÿæ˜¯å¯¹å°ç¨‹åºæå¤§çš„æ”¯æŒï¼
const otherContent = ref(`æ•°æ®æ¥æº: 
https://wiki.biligame.com/persona
https://megamitensei.fandom.com/wiki/Persona_(Series)
https://github.com/chinhodado/persona5_calculator

æœ¬å°ç¨‹åºä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨ï¼Œä¸ç”¨äºå•†ä¸šç”¨é€”ï¼Œå¦‚æœ‰ä¾µæƒè¯·è”ç³»åˆ é™¤ã€‚`)

const onSupport = () => {
    uni.previewImage({
        urls: ["https://littlering.cn/persona5/static/my/no_profit_pic.jpg"],
    })
}
</script>

<template>
    <!-- å¤´éƒ¨ä¸ªäººä¿¡æ¯ -->
    <view class="header">
        <view class="avatar-container">
            <image
                class="avatar"
                src="http://littlering.cn/persona5/static/logo.png"
                mode="aspectFill"
            />
        </view>
        <text class="username">JOKER</text>
    </view>

    <!-- æ›´æ–°æ—¥å¿—éƒ¨åˆ† -->
    <my-section
        title="æ›´æ–°å†…å®¹"
        :section_data_string="updatedContent"
        :scroll_view_height="350"
    >
    </my-section>

    <!-- éç›ˆåˆ©è¯´æ˜-->
    <my-section
        title="éç›ˆåˆ©è¯´æ˜"
        :section_data_string="noProfitContent"
    >
        <template #extraHeader>
            <button
                class="ad-button"
                @click="onSupport"
                :style="`right: 0;`"
                v-if = false
            >
                <text class="ad-icon">ğŸ¸</text>
                <text class="ad-text">æ‰“èµæ”¯æŒ</text>
            </button>
        </template>
        <view class="button-group">
            <button
                class="action-button"
                openType="feedback"
            >
                <text class="button-text">ğŸŒ¸
                    æœ‰ä½•å»ºè®®æ¬¢è¿åé¦ˆï¼Thanksâ™ª(ï½¥Ï‰ï½¥)ï¾‰</text>
            </button>
        </view>
    </my-section>

    <!-- å…¶ä»–ä¿¡æ¯éƒ¨åˆ† -->
    <my-section
        title="å…¶ä»–"
        :section_data_string="otherContent"
        :fontsize=24
    >
    </my-section>

    <testCom />
</template>

<style>
page {
    display: flex;
    flex-direction: column;
    max-height: 100vh;
    background-color: #f5f5f5;
}
</style>

<style scoped lang="scss">
.header {
    display: flex;
    flex-direction: column;
    gap: 10rpx;
    padding: 15rpx 20rpx;
    margin: 5rpx;
    align-items: center;
    box-shadow: 0 2rpx 6rpx rgba(0, 0, 0, 0.05);

    .avatar-container {
        width: 120rpx;
        height: 120rpx;
        border-radius: 50%;
        overflow: hidden;
        background-color: #f0f0f0;

        .avatar {
            width: 100%;
            height: 100%;
        }
    }

    .username {
        font-size: 1.1em;
        font-weight: 1000;
        color: #333;
    }
}

.ad-button {
    display: flex;
    align-items: center;
    background-color: #e8f5e9;
    border-radius: 32rpx;
    border: none;
    right: 0;

    .ad-icon {
        font-size: 28rpx;
        margin-right: 8rpx;
    }

    .ad-text {
        font-size: 24rpx;
        color: #2e7d32;
    }
}

.button-group {
    display: flex;
    margin-top: 20rpx;
    gap: 20rpx;

    .action-button {
        background-color: #f5f5f5;
        align-items: center;
        justify-content: center;
        border: none;
        border-radius: 16rpx;
        width: 500rpx;
        height: 100rpx;

        .button-text {
            font-size: 22rpx;
            color: #333;
        }
    }

    .action-button:active {
        background-color: #e0e0e0;
    }
}
</style>